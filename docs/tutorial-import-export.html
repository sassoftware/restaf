<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Library Overviews import-export</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="style.css">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
             
                <a href="index.html">
                    <h1 class="navbar-item">Overviews</h1>
                </a>
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    Documentation
                </a>
                
                <div class="dropdown is-hoverable is-right">
                    <a class="dropdown-trigger link">
                        Tutorials
                        <i class="fas fa-chevron-down fa-xs"></i>
                    </a>
                    <div class="dropdown-menu">
                        <div class="dropdown-content">
                        
                            <a class="dropdown-item" href="tutorial-authentication.html">
                                authentication
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-Browsing-a-Cas-Table.html">
                                Browsing-a-Cas-Table
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-casActionRun.html">
                                casActionRun
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-casActionRunExample.html">
                                casActionRunExample
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-casFetchData.html">
                                casFetchData
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-caslRun.html">
                                caslRun
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-caslScore.html">
                                caslScore
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-casSetup.html">
                                casSetup
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-Compute-Service-made-easy.html">
                                Compute-Service-made-easy
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-computeFetchData.html">
                                computeFetchData
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-computeResults.html">
                                computeResults
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-computeRun.html">
                                computeRun
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-computeRunExample.html">
                                computeRunExample
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-computeSetup.html">
                                computeSetup
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-computeSummary.html">
                                computeSummary
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-Configuring-SAS-Viya-AWS-Quick-Start-for-serverless-functions.html">
                                Configuring-SAS-Viya-AWS-Quick-Start-for-serverless-functions
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-Executing-a-cas-action.html">
                                Executing-a-cas-action
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-findReport.html">
                                findReport
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-getReportImage.html">
                                getReportImage
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-getReportUri.html">
                                getReportUri
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-Home.html">
                                Home
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-import-export.html">
                                import-export
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-lazyProgrammer.html">
                                lazyProgrammer
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-Managing-clientids.html">
                                Managing-clientids
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-masDescribe.html">
                                masDescribe
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-masRun.html">
                                masRun
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-masSetup.html">
                                masSetup
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-quickStart.html">
                                quickStart
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-reactTips.html">
                                reactTips
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-restaf---Building-Applications-with-SAS-REST-API-made-simple.html">
                                restaf---Building-Applications-with-SAS-REST-API-made-simple
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-restaf-Background.html">
                                restaf-Background
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-restaf-Introduction.html">
                                restaf-Introduction
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-restafeditExample.html">
                                restafeditExample
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-restaflib-introduction.html">
                                restaflib-introduction
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-Scoring-in-the-Cas-Server.html">
                                Scoring-in-the-Cas-Server
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-Scoring-with-MAS.html">
                                Scoring-with-MAS
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-Scripting-on-the-Cas-Server.html">
                                Scripting-on-the-Cas-Server
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-usefulTips.html">
                                usefulTips
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-vaddc.html">
                                vaddc
                            </a>
                        
                            <a class="dropdown-item" href="tutorial-viyedit.html">
                                viyedit
                            </a>
                        
                        </div>
                    </div>
                </div>
                
                 
                    
                        <a
                            class="link user-link "
                            href="https://github.com/sassoftware/restaf/blob/main/README.md"
                        >
                            restaf
                        </a>
                    
                        <a
                            class="link user-link "
                            href="https://github.com/sassoftware/restaf/blob/main/packages/restaflib/README.md"
                        >
                            restaflib
                        </a>
                    
                        <a
                            class="link user-link "
                            href="https://github.com/sassoftware/restaf/blob/restafedit/README.md"
                        >
                            restafedit
                        </a>
                    
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar tutorials"
            id="sidebarNav"
        >
            
                <div class="search-wrapper">
                    <input id="search" type="text" placeholder="Search docs..." class="input">
                </div>
            
            <nav>
                
                    <div class="category"><h3>Tutorials</h3><ul><li><a href="tutorial-authentication.html">authentication</a></li><li><a href="tutorial-Browsing-a-Cas-Table.html">Browsing-a-Cas-Table</a></li><li><a href="tutorial-casActionRun.html">casActionRun</a></li><li><a href="tutorial-casActionRunExample.html">casActionRunExample</a></li><li><a href="tutorial-casFetchData.html">casFetchData</a></li><li><a href="tutorial-caslRun.html">caslRun</a></li><li><a href="tutorial-caslScore.html">caslScore</a></li><li><a href="tutorial-casSetup.html">casSetup</a></li><li><a href="tutorial-Compute-Service-made-easy.html">Compute-Service-made-easy</a></li><li><a href="tutorial-computeFetchData.html">computeFetchData</a></li><li><a href="tutorial-computeResults.html">computeResults</a></li><li><a href="tutorial-computeRun.html">computeRun</a></li><li><a href="tutorial-computeRunExample.html">computeRunExample</a></li><li><a href="tutorial-computeSetup.html">computeSetup</a></li><li><a href="tutorial-computeSummary.html">computeSummary</a></li><li><a href="tutorial-Configuring-SAS-Viya-AWS-Quick-Start-for-serverless-functions.html">Configuring-SAS-Viya-AWS-Quick-Start-for-serverless-functions</a></li><li><a href="tutorial-Executing-a-cas-action.html">Executing-a-cas-action</a></li><li><a href="tutorial-findReport.html">findReport</a></li><li><a href="tutorial-getReportImage.html">getReportImage</a></li><li><a href="tutorial-getReportUri.html">getReportUri</a></li><li><a href="tutorial-Home.html">Home</a></li><li><a href="tutorial-import-export.html">import-export</a></li><li><a href="tutorial-lazyProgrammer.html">lazyProgrammer</a></li><li><a href="tutorial-Managing-clientids.html">Managing-clientids</a></li><li><a href="tutorial-masDescribe.html">masDescribe</a></li><li><a href="tutorial-masRun.html">masRun</a></li><li><a href="tutorial-masSetup.html">masSetup</a></li><li><a href="tutorial-quickStart.html">quickStart</a></li><li><a href="tutorial-reactTips.html">reactTips</a></li><li><a href="tutorial-restaf---Building-Applications-with-SAS-REST-API-made-simple.html">restaf---Building-Applications-with-SAS-REST-API-made-simple</a></li><li><a href="tutorial-restaf-Background.html">restaf-Background</a></li><li><a href="tutorial-restaf-Introduction.html">restaf-Introduction</a></li><li><a href="tutorial-restafeditExample.html">restafeditExample</a></li><li><a href="tutorial-restaflib-introduction.html">restaflib-introduction</a></li><li><a href="tutorial-Scoring-in-the-Cas-Server.html">Scoring-in-the-Cas-Server</a></li><li><a href="tutorial-Scoring-with-MAS.html">Scoring-with-MAS</a></li><li><a href="tutorial-Scripting-on-the-Cas-Server.html">Scripting-on-the-Cas-Server</a></li><li><a href="tutorial-usefulTips.html">usefulTips</a></li><li><a href="tutorial-vaddc.html">vaddc</a></li><li><a href="tutorial-viyedit.html">viyedit</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Tutorial</p>
                    <h1>import-export</h1>
                </header>
                <section>

<article>
    <h2>Introduction</h2>
<p>One of the common activities is to import and export different contents in a Viya Server. The <a href="https://github.com/sassoftware/restaf/tree/gen2/packages/viyacaddy">viyacaddy package</a> is make this job a little easier for a select set of data.</p>
<p>This cli is useful for:</p>
<ol>
<li>
<p>Exporting selected VA reports as json files.</p>
</li>
<li>
<p>Importing Va reports stored as json files</p>
</li>
<li>
<p>Importing hdat, sas7bat, csv files into CAS</p>
</li>
<li>
<p>Importing .sas and .ds2 files into sashdat (for use with scoring actions)</p>
</li>
<li>
<p>Importing .astore and .sasast files into sashdat</p>
</li>
</ol>
<h2>Installing the cli</h2>
<p>You can install the cli as follows:</p>
<pre><code> npm install -g @sassoftware/viyacaddy
</code></pre>
<h3>Notes</h3>
<ol>
<li>If you do not have nodejs installed on your system you can use</li>
</ol>
<h2>Usage</h2>
<p>The cli can be run in interactive mode or in &quot;batch&quot; mode.</p>
<h3>Interactive mode</h3>
<pre class="prettyprint source lang-sh"><code>npx @sassoftware/viyacaddy --env &lt;your-env-file>
</code></pre>
<p>You will get prompt to enter commands.</p>
<p>The env file has the following format</p>
<pre class="prettyprint source lang-ini"><code>VIYA_SERVER=http://your-viya-server
CLIENTID=&lt;a password client>
CLIENTSECRET=&lt;a client secret>
</code></pre>
<p>Note that the default clientid sas.ec (no secret)can be used (consult your SAS Administrator).</p>
<h3>Batch mode</h3>
<pre class="prettyprint source lang-sh"><code>npx @sassoftware/viyacaddy --env &lt;your-env-file> -- file &lt;cmdfile>
</code></pre>
<p>The env file is now augmented with an userid and password as follows:</p>
<pre class="prettyprint source lang-ini"><code>VIYA_SERVER=http://your-viya-server
CLIENTID=&lt;a password client>
CLIENTSECRET=&lt;a client secret>
USER=username
PASSWORD=password
</code></pre>
<p>You can use a previously generated token instead of userid and password. Create a token and save it in some file (say mytoken) and modify the env file as follows</p>
<pre class="prettyprint source lang-ini"><code>VIYA_SERVER=http://your-viya-server
CLIENTID=&lt;a password client>
CLIENTSECRET=&lt;a client secret>
TOKEN_FILE=mytoken
</code></pre>
<p>The cmdfile is a text file with a list of valid viyacaddy commands. These commands are executed in parallel.</p>
<h2>Current commands</h2>
<p>When data or report is imported, the cli will delete any existing file and create the new one.
Also the new data will not be loaded into memory. That task is left to the applications that will use the tables and reports that are imported.</p>
<h3>Basic commands</h3>
<ul>
<li>logon - to logon to Viya. This command will prompt for username and password</li>
<li>exit  - to exit the cli</li>
<li>help  - get help on commands</li>
</ul>
<h3>Utility</h3>
<ul>
<li>caslibs  -- lists the names of all caslibs</li>
</ul>
<h3>Tables command</h3>
<ul>
<li>
<p>tables import   -- to import hdat, b7dat,csv, astore, ds2 and sas files into cas tables in a caslib</p>
<pre><code>  tables import &lt;input directory&gt; &lt;list of files|*&gt; -c &lt;caslib&gt;
</code></pre>
</li>
<li>
<p>tables list -- to list the names of the tables in a specific caslib</p>
<pre><code>  tables list &lt;caslib&gt;
</code></pre>
</li>
</ul>
<h3>Reports command</h3>
<ul>
<li>
<p>Import VA reports from specified directory into a SAS Viya folder</p>
<pre><code>   reports import &lt;input directory&gt; &lt;list of names|*&gt; -f &lt;folder&gt;
</code></pre>
</li>
<li>
<p>Export VA reports in json format to specified directory</p>
<pre><code>   reports export  &lt;list of reports&gt; -d &lt;directory-to-store-reports&gt;
</code></pre>
</li>
<li>
<p>List reports in VA</p>
<pre><code>   reports list   -- list the names of all the reports
</code></pre>
</li>
</ul>
<h3>Notes on imported tables</h3>
<ul>
<li>sasb7dat,sashdat,csv -- sashdat file</li>
<li>astore -- sashdata file (schema: <em>index</em> , <em>state</em>)</li>
<li>sas, ds2 -- sashdat - &quot;model&quot; table that can be executed with datastep.runCodeTable and ds2.runModel actions.(schema: modelName, dataStepsrc|ds2Src)</li>
</ul>
<h2>Examples</h2>
<ol>
<li>
<p><em>Import a.json and b.json from reportfiles directory into Public folder</em></p>
<ul>
<li><strong>reports import</strong> ./reportfiles a.json b.json -f Public</li>
</ul>
</li>
<li>
<p><em>Import all files from reportfiles directory into Public folder</em></p>
<ul>
<li><strong>reports import</strong> ./reportfiles * -f Public</li>
</ul>
</li>
<li>
<p>*Import files with spaces in name</p>
<ul>
<li><strong>reports import</strong> ./reportfiles 'a report with spaces'  -f Public</li>
</ul>
</li>
<li>
<p><em>Export reports a and b as json files into the reportsfiles directory</em></p>
<ul>
<li><strong>reports export</strong> a b -d ./reportfiles</li>
</ul>
</li>
<li>
<p><em>List all the reports available to the user</em></p>
<ul>
<li><strong>reports list</strong></li>
</ul>
</li>
<li>
<p><em>Import the two files from data directory into Public caslib</em></p>
<ul>
<li><strong>tables import</strong>  ./data  iris.csv retails.sas7bdat -c Public</li>
</ul>
</li>
<li>
<p><em>Import all the files in data directory into Public caslib</em></p>
<ul>
<li><strong>tables import</strong>  ./data  *  -c Public</li>
</ul>
</li>
<li>
<p><em>List names of tables in the public caslib</em></p>
<ul>
<li><strong>tables list</strong> public</li>
</ul>
</li>
</ol>
<h2>Sample cmdfile</h2>
<p>Here is a sample command file</p>
<pre><code># import all report in the specificed directory
reports import c:/public/dev/reports * -f Public

# Import a sas program
tables import ../../data Cluster_SDOH6.sas -c public

# Import all data in a directory
tables import c:/public/dev/data * -c casuser
</code></pre>
</article>

</section>

            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.11</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>

<script src="scripts/search.js"> </script>


</body>
</html>